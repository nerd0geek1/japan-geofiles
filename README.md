# このレポジトリについて
このレポジトリは、[国土数値情報ダウンロードサービス](http://nlftp.mlit.go.jp/ksj/)からダウンロード可能なデータのうち、[国土数値情報　行政区域データ](http://nlftp.mlit.go.jp/ksj/gml/datalist/KsjTmplt-N03-v2_3.html)からダウンロードした平成31年度分のgeojsonファイルを目的に従い、加工したものです。

ご利用につきましては、国土交通省による
[国土数値情報利用約款](http://nlftp.mlit.go.jp/ksj/other/yakkan.html)や、[国土地理院の地図の利用手続](https://www.gsi.go.jp/LAW/2930-index.html)等をご確認の上、利用条件を遵守しご利用ください。

また、こちらのレポジトリは私自身の個人的な利用を目的としており、加工されたデータの正確性については一切保証しないことをご留意ください。

## フォルダ構成
### `original/`  
国土交通省からダウンロードしたままのオリジナルのgeojsonファイルが格納されています。

### `multi-polygon/` 直下  
`original/`に格納されたgeojsonファイルに以下の処理を施したものです。
- 不要な地物の削除
- マルチポリゴン化
- 属性テーブルの編集

#### 不要な地物の削除
今回の目的から不要であった、以下の地物を削除しています。
- 北方領土
- 東京都島嶼部
- 各都道府県に含まれる所属未定地  

#### マルチポリゴン化
全国地方公共団体コードが同じであっても、飛び地・島など別のポリゴンになっている場合、属性テーブルには同じコードで複数の地物が登録されることになります。
そのため、全国地方公共団体コードが等しい地物を「[QGIS入門 - 09.いくつかの地物をまとめて一つの地物にする](
  https://sites.google.com/site/qgisnoiriguchi/vector01/09)」に記載された方法に従ってマルチポリゴン化し、1つの地物としています。

#### 属性テーブルの編集
オリジナルのgeojsonファイルには `N03_001 / N03_002 / N03_003 / N03_004 / N03_007` と5つの属性が登録されていますが、`N03_007`以外は不要なため、削除してあります。
また、`N03_007`もカラム名を`city_code`にrenameしてあります。

### `multi-polygon/unified/`
`multi-polygon/`直下に格納されたgeojsonファイルに以下の処理をほどこしたものです。
- 都道府県ごとに、含まれる地物の融合(dissolve)
- 属性テーブルの編集

#### 都道府県ごとに、含まれる地物の融合(dissolve)
都道府県ごとに、含まれる地物をdissolveで1つの地物に融合してあります。

#### 属性テーブルの編集
地物の粒度が都道府県レベルになっているので、属性テーブルのカラム名も`city_code`から`pref_code`に変更しました。値も都道府県コードに一致するよう変更してあります。

## 参考リンク
- [国土数値情報　ダウンロードサービス](http://nlftp.mlit.go.jp/ksj/)
- [国土数値情報利用約款](http://nlftp.mlit.go.jp/ksj/other/yakkan.html)
- [国土地理院の地図の利用手続](https://www.gsi.go.jp/LAW/2930-index.html)
